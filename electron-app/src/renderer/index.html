<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; connect-src 'self' http://localhost:3001;">
    <title>Local Data Replicator</title>
</head>
<body>
    <div id="app">
        <header class="header">
            <h1>Local Data Replicator</h1>
            <p>Replicate MS SQL Server and Azure SQL databases locally</p>
        </header>

        <main class="main-content">
            <!-- Connection Section -->
            <section class="section">
                <h2>Database Connection</h2>
                <div class="form-group">
                    <label for="connectionString">Connection String:</label>
                    <textarea 
                        id="connectionString" 
                        placeholder="Server=myServerAddress;Database=myDataBase;User Id=myUsername;Password=myPassword;"
                        rows="3"
                    ></textarea>
                </div>
                <div class="form-actions">
                    <button id="testConnectionBtn" class="btn btn-secondary">Test Connection</button>
                </div>
            </section>

            <!-- Configuration Section -->
            <section class="section">
                <h2>Replication Configuration</h2>
                <div class="form-group">
                    <label for="targetType">Local Database Type:</label>
                    <select id="targetType">
                        <option value="sqlite">SQLite (Recommended)</option>
                        <option value="sqlserver">SQL Server Express</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Configuration Scripts:</label>
                    <div class="script-list" id="scriptList">
                        <p class="empty-state">No scripts added</p>
                    </div>
                    <button id="addScriptBtn" class="btn btn-secondary">Add Script</button>
                </div>
            </section>

            <!-- Replication Section -->
            <section class="section">
                <h2>Replication Control</h2>
                <div class="form-actions">
                    <button id="startReplicationBtn" class="btn btn-primary" disabled>Start Replication</button>
                    <button id="cancelReplicationBtn" class="btn btn-danger" disabled>Cancel</button>
                </div>
                
                <!-- Progress Section -->
                <div class="progress-container" id="progressContainer" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-text" id="progressText">0%</div>
                    <div class="status-message" id="statusMessage">Ready</div>
                </div>
            </section>

            <!-- Logs Section -->
            <section class="section">
                <h2>Logs</h2>
                <div class="logs-container">
                    <div id="logs" class="logs"></div>
                    <div class="logs-actions">
                        <button id="clearLogsBtn" class="btn btn-secondary">Clear Logs</button>
                    </div>
                </div>
            </section>
        </main>

        <!-- Status Bar -->
        <footer class="status-bar">
            <span id="appInfo">Loading...</span>
            <span id="connectionStatus" class="status-disconnected">Not Connected</span>
        </footer>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-spinner"></div>
        <p>Processing...</p>
    </div>
</body>
</html> 