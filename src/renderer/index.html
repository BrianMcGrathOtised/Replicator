<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; connect-src 'self' http://localhost:3001;">
    <title>Data Replicator</title>
</head>
<body>
    <div id="app">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="app-logo">
                    <h1>Data Replicator</h1>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <ul class="nav-menu">
                    <li class="nav-item">
                        <button class="nav-button active" data-view="databases">
                            <span class="nav-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <ellipse cx="12" cy="5" rx="9" ry="3"></ellipse>
                                    <path d="M3 5v14c0 1.66 4.03 3 9 3s9-1.34 9-3V5"></path>
                                    <path d="M3 12c0 1.66 4.03 3 9 3s9-1.34 9-3"></path>
                                </svg>
                            </span>
                            <span class="nav-text">Databases</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-button" data-view="scripts">
                            <span class="nav-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <polyline points="14,2 14,8 20,8"></polyline>
                                    <line x1="16" y1="13" x2="8" y2="13"></line>
                                    <line x1="16" y1="17" x2="8" y2="17"></line>
                                    <polyline points="10,9 9,9 8,9"></polyline>
                                </svg>
                            </span>
                            <span class="nav-text">Scripts</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-button" data-view="configurations">
                            <span class="nav-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="3"></circle>
                                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                                </svg>
                            </span>
                            <span class="nav-text">Configurations</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-button" data-view="database-compare">
                            <span class="nav-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <path d="M21 21l-4.35-4.35"></path>
                                    <line x1="11" y1="8" x2="11" y2="14"></line>
                                    <line x1="8" y1="11" x2="14" y2="11"></line>
                                </svg>
                            </span>
                            <span class="nav-text">Database Compare</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-button" data-view="settings">
                            <span class="nav-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path>
                                    <circle cx="12" cy="12" r="3"></circle>
                                </svg>
                            </span>
                            <span class="nav-text">Settings</span>
                        </button>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="main-container">
            <!-- Header -->
            <header class="main-header">
                <div class="header-content">
                    <h2 id="viewTitle">Database Connections</h2>
                    <div class="header-actions">
                        <button id="primaryActionBtn" class="btn btn-primary">Add Connection</button>
                    </div>
                </div>
            </header>

            <!-- Content Views -->
            <div class="content-area">
                <!-- Databases View -->
                <div id="databases-view" class="view active">
                    <div class="view-content">
                        <div class="table-container">
                            <table class="data-table" id="connectionsTable" style="display: none;">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Database</th>
                                        <th>Server Type</th>
                                        <th>Target DB</th>
                                        <th>Created</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="connectionsTableBody">
                                </tbody>
                            </table>
                            <div class="empty-state" id="connectionsEmptyState">
                                <div class="empty-icon">üóÑÔ∏è</div>
                                <h3>No Database Connections</h3>
                                <p>Create your first database connection to get started with replication.</p>
                                <button class="btn btn-primary" onclick="dataReplicatorUI.showConnectionModal()">Add Connection</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Scripts View -->
                <div id="scripts-view" class="view">
                    <div class="view-content">
                        <div class="table-container">
                            <table class="data-table" id="scriptsTable" style="display: none;">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Description</th>
                                        <th>Length</th>
                                        <th>Created</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="scriptsTableBody">
                                </tbody>
                            </table>
                            <div class="empty-state" id="scriptsEmptyState">
                                <div class="empty-icon">üìù</div>
                                <h3>No SQL Scripts</h3>
                                <p>Create your first SQL script to run after replication.</p>
                                <button class="btn btn-primary" onclick="dataReplicatorUI.showSqlScriptModal()">Add Script</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Configurations View -->
                <div id="configurations-view" class="view">
                    <div class="view-content">
                        <!-- Progress Bar Container -->
                        <div id="configProgressContainer" class="progress-container" style="display: none;">
                            <div class="progress-header">
                                <h4 id="configProgressTitle">Running Configuration...</h4>
                                <button id="cancelConfigBtn" class="btn btn-danger btn-small">Cancel</button>
                            </div>
                            <div class="progress-bar-wrapper">
                                <div class="progress-bar">
                                    <div id="configProgressFill" class="progress-fill"></div>
                                </div>
                                <div class="progress-text">
                                    <span id="configProgressPercent">0%</span>
                                    <span id="configProgressMessage">Initializing...</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="table-container">
                            <table class="data-table" id="configurationsTable" style="display: none;">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Source</th>
                                        <th>Target</th>
                                        <th>Scripts</th>
                                        <th>Last Run</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="configurationsTableBody">
                                </tbody>
                            </table>
                            <div class="empty-state" id="configurationsEmptyState">
                                <div class="empty-icon">‚öôÔ∏è</div>
                                <h3>No Replication Configurations</h3>
                                <p>Create your first replication configuration to start syncing databases.</p>
                                <button class="btn btn-primary" onclick="dataReplicatorUI.showCreateConfigurationModal()">Create Configuration</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Database Compare View -->
                <div id="database-compare-view" class="view">
                    <div class="view-content">
                        <!-- Compare Configuration Section -->
                        <div class="compare-config-section">
                            <div class="config-header">
                                <h3>Database Comparison Setup</h3>
                                <div class="config-actions">
                                    <button id="startCompareBtn" class="btn btn-primary" disabled>Start Comparison</button>
                                    <button id="exportCompareBtn" class="btn btn-secondary" disabled>Export Results</button>
                                </div>
                            </div>
                            
                            <div class="compare-form-grid">
                                <div class="form-group">
                                    <label for="sourceDbSelect">Source Database:</label>
                                    <select id="sourceDbSelect">
                                        <option value="">Select source database...</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="targetDbSelect">Target Database:</label>
                                    <select id="targetDbSelect">
                                        <option value="">Select target database...</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="compare-options">
                                <h4>Comparison Options</h4>
                                <div class="options-inline">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="compareSchema" checked>
                                        <span class="checkmark"></span>
                                        Schema
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="compareData" checked>
                                        <span class="checkmark"></span>
                                        Data
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="compareIndexes">
                                        <span class="checkmark"></span>
                                        Indexes
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="compareConstraints">
                                        <span class="checkmark"></span>
                                        Constraints
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Comparison Results Section -->
                        <div class="compare-results-section" id="compareResultsSection" style="display: none;">
                            <div class="results-header">
                                <h3>Comparison Results</h3>
                                <div class="results-summary-inline">
                                    <span class="summary-item">
                                        <strong id="totalDifferences">0</strong> Total Differences
                                    </span>
                                    <span class="summary-item">
                                        <strong id="schemaDifferences">0</strong> Schema
                                    </span>
                                    <span class="summary-item">
                                        <strong id="dataDifferences">0</strong> Data
                                    </span>
                                </div>
                            </div>
                            
                            <div class="results-tabs">
                                <div class="results-tab-buttons">
                                    <button class="results-tab-button active" data-tab="schema-diff">Schema Differences</button>
                                    <button class="results-tab-button" data-tab="data-diff">Data Differences</button>
                                    <button class="results-tab-button" data-tab="summary">Summary Report</button>
                                </div>
                                
                                <!-- Schema Differences Tab -->
                                <div class="results-tab-content active" id="schema-diff-tab">
                                    <div class="table-container">
                                        <table class="data-table" id="schemaDiffTable" style="display: none;">
                                            <thead>
                                                <tr>
                                                    <th>Type</th>
                                                    <th>Object Name</th>
                                                    <th>Difference</th>
                                                    <th>Source Value</th>
                                                    <th>Target Value</th>
                                                </tr>
                                            </thead>
                                            <tbody id="schemaDiffTableBody">
                                            </tbody>
                                        </table>
                                        <div class="empty-state" id="schemaDiffEmptyState">
                                            <div class="empty-icon">üîç</div>
                                            <h3>No Schema Differences</h3>
                                            <p>The database schemas are identical.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Data Differences Tab -->
                                <div class="results-tab-content" id="data-diff-tab">
                                    <div class="table-container">
                                        <table class="data-table" id="dataDiffTable" style="display: none;">
                                            <thead>
                                                <tr>
                                                    <th>Table</th>
                                                    <th>Difference Type</th>
                                                    <th>Source Rows</th>
                                                    <th>Target Rows</th>
                                                    <th>Difference</th>
                                                    <th>Description</th>
                                                </tr>
                                            </thead>
                                            <tbody id="dataDiffTableBody">
                                            </tbody>
                                        </table>
                                        <div class="empty-state" id="dataDiffEmptyState">
                                            <div class="empty-icon">üìä</div>
                                            <h3>No Data Differences</h3>
                                            <p>The database data is identical.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Summary Report Tab -->
                                <div class="results-tab-content" id="summary-tab">
                                    <div class="summary-container">
                                        <div id="summaryReport" class="summary-report">
                                            <div class="empty-state">
                                                <div class="empty-icon">üìã</div>
                                                <h3>No Comparison Results</h3>
                                                <p>Run a comparison to see the summary report.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Settings View -->
                <div id="settings-view" class="view">
                    <div class="view-content">
                        <div class="settings-content">
                            <div class="settings-tabs">
                                <div class="settings-tab-buttons">
                                    <button class="settings-tab-button active" data-tab="import-export">Import/Export</button>
                                    <button class="settings-tab-button" data-tab="general">General</button>
                                </div>

                                <!-- Import/Export Tab -->
                                <div class="settings-tab-content active" id="import-export-tab">
                                    <h4>Configuration Import/Export</h4>
                                    <p>Export your configurations to share with others or import existing configurations.</p>
                                    
                                    <!-- Export Section -->
                                    <div class="settings-section">
                                        <h5>Export Configuration</h5>
                                        <div class="export-options">
                                            <label class="checkbox-label">
                                                <input type="checkbox" id="exportConnections" checked>
                                                <span class="checkmark"></span>
                                                Include Database Connections
                                            </label>
                                            <label class="checkbox-label">
                                                <input type="checkbox" id="exportScripts" checked>
                                                <span class="checkmark"></span>
                                                Include SQL Scripts
                                            </label>
                                            <label class="checkbox-label">
                                                <input type="checkbox" id="exportConfigs" checked>
                                                <span class="checkmark"></span>
                                                Include Replication Configurations
                                            </label>
                                        </div>
                                        <div class="export-actions">
                                            <button id="exportBtn" class="btn btn-primary">Export to File</button>
                                        </div>
                                    </div>

                                    <!-- Import Section -->
                                    <div class="settings-section">
                                        <h5>Import Configuration</h5>
                                        <div class="import-options">
                                            <div class="form-group">
                                                <label for="importMode">Import Mode:</label>
                                                <select id="importMode">
                                                    <option value="merge">Merge (Update existing, add new)</option>
                                                    <option value="replace">Replace (Overwrite existing)</option>
                                                    <option value="skip-duplicates">Skip Duplicates (Only add new)</option>
                                                </select>
                                            </div>
                                            <label class="checkbox-label">
                                                <input type="checkbox" id="generateNewIds" checked>
                                                <span class="checkmark"></span>
                                                Generate New IDs (Recommended)
                                            </label>
                                        </div>
                                        <div class="import-actions">
                                            <button id="importBtn" class="btn btn-primary">Import from File</button>
                                        </div>
                                    </div>
                                </div>

                                <!-- General Tab -->
                                <div class="settings-tab-content" id="general-tab">
                                    <h4>General Settings</h4>
                                    <p>Additional settings will be available here in future updates.</p>
                                    
                                    <div class="settings-section">
                                        <h5>Application Information</h5>
                                        <div class="app-info">
                                            <div class="info-item">
                                                <label>Version:</label>
                                                <span id="appVersion">Loading...</span>
                                            </div>
                                            <div class="info-item">
                                                <label>Storage Location:</label>
                                                <span id="storagePath">Loading...</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Logs Panel (always visible at bottom) -->
            <div class="logs-panel">
                <div class="logs-header">
                    <h3>Activity Logs</h3>
                    <button id="clearLogsBtn" class="btn btn-secondary btn-small">Clear</button>
                </div>
                <div class="logs-container">
                    <div id="logs" class="logs"></div>
                </div>
            </div>
        </main>

    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-spinner"></div>
        <p>Processing...</p>
    </div>

    <!-- Database Connection Modal -->
    <div id="connectionModal" class="modal-overlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 id="connectionModalTitle">Add Database Connection</h3>
                <button id="connectionModalCloseBtn" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="connectionForm">
                    <div class="form-group">
                        <label for="connectionName">Connection Name:</label>
                        <input type="text" id="connectionName" placeholder="e.g., Production Database" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="serverType">Server Type:</label>
                        <select id="serverType" required>
                            <option value="sqlserver">SQL Server (On-Premises)</option>
                            <option value="azure-sql">Azure SQL Database</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="server">Server:</label>
                        <input type="text" id="server" placeholder="e.g., localhost or server.database.windows.net" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="database">Database:</label>
                        <input type="text" id="database" placeholder="e.g., MyDatabase" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="username">Username:</label>
                        <input type="text" id="username" placeholder="e.g., sa or user@domain.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="password">Password:</label>
                        <input type="password" id="password" placeholder="Database password" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="port">Port (Optional):</label>
                        <input type="number" id="port" placeholder="e.g., 1433" min="1" max="65535">
                        <small>Leave empty to use default port</small>
                    </div>
                    
                    <div class="form-group">
                        <button type="button" id="testConnectionBtn" class="btn btn-secondary">Test Connection</button>
                    </div>
                    
                    <div class="form-group">
                        <label for="connectionDescription">Description (Optional):</label>
                        <textarea 
                            id="connectionDescription" 
                            placeholder="Brief description of this connection"
                            rows="2"
                        ></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="isTargetDatabase">
                            <span class="checkmark"></span>
                            Mark as Target Database
                        </label>
                        <small>Target databases can be used as replication destinations</small>
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <button id="connectionModalCancelBtn" class="btn btn-secondary">Cancel</button>
                <button id="connectionModalSaveBtn" class="btn btn-primary">Save Connection</button>
            </div>
        </div>
    </div>

    <!-- SQL Script Modal -->
    <div id="sqlScriptModal" class="modal-overlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 id="sqlScriptModalTitle">Add SQL Script</h3>
                <button id="sqlScriptModalCloseBtn" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="sqlScriptForm">
                    <div class="form-group">
                        <label for="sqlScriptName">Script Name:</label>
                        <input type="text" id="sqlScriptName" placeholder="e.g., Set Environment Variables" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="sqlScriptContent">SQL Script:</label>
                        <textarea 
                            id="sqlScriptContent" 
                            placeholder="-- SQL commands to run after replication&#10;UPDATE Settings SET Environment = 'DEV';"
                            rows="8"
                            required
                        ></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="sqlScriptDescription">Description (Optional):</label>
                        <textarea 
                            id="sqlScriptDescription" 
                            placeholder="Brief description of what this script does"
                            rows="2"
                        ></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="sqlScriptModalCancelBtn" class="btn btn-secondary">Cancel</button>
                <button id="sqlScriptModalSaveBtn" class="btn btn-primary">Save Script</button>
            </div>
        </div>
    </div>

    <!-- Configuration Modal -->
    <div id="configModal" class="modal-overlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 id="configModalTitle">Create Configuration</h3>
                <button id="configModalCloseBtn" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="configForm">
                    <div class="form-group">
                        <label for="configName">Configuration Name:</label>
                        <input type="text" id="configName" placeholder="e.g., Production to Dev" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="sourceConnection">Source Database:</label>
                        <select id="sourceConnection" required>
                            <option value="">Select saved connection...</option>
                        </select>
                        <small>Choose from your saved database connections</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="targetConnection">Target Database:</label>
                        <select id="targetConnection" required>
                            <option value="">Select saved connection...</option>
                        </select>
                        <small>Only connections marked as "Target Database" will appear here. Target database will be created if it doesn't exist.</small>
                    </div>
                    
                    <div class="form-group">
                        <label>Post-Replication Scripts (Optional):</label>
                        <div class="script-selection" id="scriptSelection">
                            <!-- Scripts will be populated here -->
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="configModalCancelBtn" class="btn btn-secondary">Cancel</button>
                <button id="configModalSaveBtn" class="btn btn-primary">Save Configuration</button>
            </div>
        </div>
    </div>


    <!-- Import Preview Modal -->
    <div id="importPreviewModal" class="modal-overlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3>Import Preview</h3>
                <button id="importPreviewModalCloseBtn" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="importPreviewContent">
                    <!-- Preview content will be populated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button id="importPreviewCancelBtn" class="btn btn-secondary">Cancel</button>
                <button id="importPreviewConfirmBtn" class="btn btn-primary">Confirm Import</button>
            </div>
        </div>
    </div>

    <!-- Export Comparison Results Modal -->
    <div id="exportComparisonModal" class="modal-overlay" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3>Export Comparison Results</h3>
                <button id="exportComparisonModalCloseBtn" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="exportComparisonForm">
                    <div class="form-group">
                        <label for="exportFileName">File Name:</label>
                        <input type="text" id="exportFileName" placeholder="database-comparison-report" required>
                        <small>File will be saved as .html format</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="exportLocation">Save Location:</label>
                        <div class="file-input-group">
                            <input type="text" id="exportLocation" placeholder="Choose save location..." readonly>
                            <button type="button" id="browseLocationBtn" class="btn btn-secondary">Browse</button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Export Options:</label>
                        <div class="export-options">
                            <label class="checkbox-label">
                                <input type="checkbox" id="exportSchemaDiff" checked>
                                <span class="checkmark"></span>
                                Include Schema Differences
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="exportDataDiff" checked>
                                <span class="checkmark"></span>
                                Include Data Differences
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="exportSummary" checked>
                                <span class="checkmark"></span>
                                Include Summary Report
                            </label>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="exportComparisonCancelBtn" class="btn btn-secondary">Cancel</button>
                <button id="exportComparisonSaveBtn" class="btn btn-primary">Export Report</button>
            </div>
        </div>
    </div>
</body>
</html> 